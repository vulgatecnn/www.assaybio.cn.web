# AssayBio 生产环境配置
NODE_ENV=production
DEPLOY_ENV=production

# 服务器配置
SERVER_HOST=www.assaybio.com
SERVER_PORT=80
SERVER_NAME="assaybio.com www.assaybio.com"
SERVER_IP=192.3.11.106

# 域名配置
DOMAIN=assaybio.com
SUBDOMAIN=www.assaybio.com
PRIMARY_DOMAIN=www.assaybio.com

# 数据库配置
DATABASE_URL=postgresql://assaybio_prod:${DB_PASSWORD}@localhost:5432/assaybio_prod
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}

# API配置
API_BASE_URL=https://api.assaybio.com
API_TIMEOUT=30000

# CDN配置
CDN_URL=https://cdn.assaybio.com
ASSETS_VERSION=v1.0.0

# 缓存配置
ENABLE_CACHE=true
CACHE_TTL=3600
STATIC_CACHE_TTL=86400

# 日志配置
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_FILE=/var/log/assaybio/production.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# 监控配置
ENABLE_MONITORING=true
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=${GITHUB_SHA}

# 性能监控
APM_ENABLED=true
NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}
NEW_RELIC_APP_NAME=AssayBio-Production

# Grafana配置
GRAFANA_PASSWORD=${GRAFANA_PASSWORD}
PROMETHEUS_ENABLED=true

# 通知配置
SLACK_WEBHOOK=${SLACK_WEBHOOK}
EMAIL_ALERTS_ENABLED=true
ALERT_EMAIL=admin@assaybio.com

# 功能开关（生产环境保守配置）
FEATURE_FLAG_ANALYTICS=true
FEATURE_FLAG_NEW_UI=false
FEATURE_FLAG_BETA_FEATURES=false

# Docker配置
CONTAINER_NAME=assaybio-prod
CONTAINER_PORT=3000
NETWORK_NAME=assaybio-prod-network
CONTAINER_REPLICAS=3
IMAGE_TAG=latest

# 蓝绿部署配置
BLUE_GREEN_ENABLED=true
BLUE_PORT=8080
GREEN_PORT=8081
BACKUP_PORT=8082

# Nginx配置（高性能生产配置）
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=2048
NGINX_KEEPALIVE_TIMEOUT=30
NGINX_CLIENT_MAX_BODY_SIZE=100M
NGINX_GZIP_ENABLED=true
NGINX_GZIP_LEVEL=6
NGINX_RATE_LIMIT=100r/s
NGINX_BURST=50

# SSL配置
SSL_ENABLED=true
LETSENCRYPT_EMAIL=admin@assaybio.com
CERTBOT_DOMAINS="assaybio.com,www.assaybio.com"
SSL_CERT_PATH=/etc/letsencrypt/live/www.assaybio.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/www.assaybio.com/privkey.pem
SSL_PROTOCOLS="TLSv1.2 TLSv1.3"
SSL_CIPHERS="ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384"

# 安全配置
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# 备份配置
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=90
BACKUP_SCHEDULE="0 1 * * *"
BACKUP_STORAGE_PATH=/var/backups/assaybio
BACKUP_ENCRYPTION_ENABLED=true

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# 自动扩缩容配置
AUTO_SCALING_ENABLED=true
MIN_REPLICAS=2
MAX_REPLICAS=5
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80

# DDoS防护配置
DDOS_PROTECTION_ENABLED=true
FAIL2BAN_ENABLED=true
RATE_LIMITING_ENABLED=true

# 数据保护配置
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=1095
AUDIT_LOGGING=true